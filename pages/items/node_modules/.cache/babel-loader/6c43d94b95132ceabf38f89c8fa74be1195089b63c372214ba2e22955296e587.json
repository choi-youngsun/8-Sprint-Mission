{"ast":null,"code":"var _s = $RefreshSig$();\n/*\r\nimport { getProducts } from \"../api.js\";\r\nimport \"./App.css\";\r\nimport ProductList from \"./ProductList.js\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst LIMIT = 6;\r\n\r\nfunction App() {\r\n  const [items, setItems] = useState([]);\r\n  const [offset, setOffset] = useState(0);\r\n  const [order, setOrder] = useState(\"createdAt\");\r\n  const [hasNext, setHasNext] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadingError, setLoadingError] = useState(null);\r\n\r\n  const sortedItems = items.sort((a, b) => b[order] - a[order]);\r\n\r\n  const handleNewestClick = () => setOrder(\"createdAt\");\r\n  const handleBestClick = () => setOrder(\"favoriteCount\");\r\n  const handleDelete = (id) => {\r\n    const nextItems = items.filter((item) => item.id !== id);\r\n    setItems(nextItems);\r\n  };\r\n\r\n  const handleLoad = async (options) => {\r\n    let result;\r\n    try {\r\n      setIsLoading(true);\r\n      setLoadingError(null);\r\n      result = await getProducts(options);\r\n    } catch (error) {\r\n      setLoadingError(error);\r\n      return;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n\r\n    const { reviews, paging } = result;\r\n    if (options.offset === 0) {\r\n      setItems(reviews);\r\n    } else {\r\n      setItems((previewItems) => [...previewItems, ...reviews]);\r\n    }\r\n    setOffset(options.offset + options.limit);\r\n    setHasNext(paging.hasNext);\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    handleLoad({ order, offset, limit: LIMIT });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleLoad({ order, offset: 0, limit: LIMIT });\r\n  }, [order]);\r\n\r\n  return (\r\n    <div>\r\n      <p>판다마켓 로고</p>\r\n      <a href=\"#\">자유게시판</a>\r\n      <a href=\"#\"> 중고마켓</a>\r\n      <button>로그인</button>\r\n      <div>\r\n        <div>\r\n          <h1>베스트 상품</h1>\r\n          <p>베스트 상품 섹션 만들어서 넣을거임</p>\r\n        </div>\r\n        <h1>판매중인 상품</h1>\r\n        <input placeholder=\"검색할 상품을 입력하세요\"></input>\r\n        <button>상품 등록하기</button>\r\n        <button onClick={handleNewestClick}>최신순</button>\r\n        <button onClick={handleBestClick}>좋아요순</button>\r\n      </div>\r\n      <ProductList items={sortedItems} />\r\n      {hasNext && (\r\n        <button disabled={isLoading} onClick={handleLoadMore}>\r\n          더보기\r\n        </button>\r\n      )}\r\n      {loadingError?.message && <span>{loadingError?.message}</span>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n*/\n\nimport { getProducts } from \"../api.js\";\nimport { useState, useEffect } from \"react\";\nfunction App() {\n  _s();\n  [items, setItems] = useState([]);\n  const handleLoad = async () => {\n    const {\n      products\n    } = await getProducts();\n    setItems;\n  };\n  useEffect(() => {\n    handleLoad();\n  }, []);\n}\n_s(App, \"0R7l53CiwQu7ziyMeHtgYF+Ya+E=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["getProducts","useState","useEffect","App","_s","items","setItems","handleLoad","products","_c","$RefreshReg$"],"sources":["C:/Users/최영선/OneDrive/바탕 화면/sprint_mission/8-Sprint-Mission/pages/items/src/components/App.js"],"sourcesContent":["/*\r\nimport { getProducts } from \"../api.js\";\r\nimport \"./App.css\";\r\nimport ProductList from \"./ProductList.js\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst LIMIT = 6;\r\n\r\nfunction App() {\r\n  const [items, setItems] = useState([]);\r\n  const [offset, setOffset] = useState(0);\r\n  const [order, setOrder] = useState(\"createdAt\");\r\n  const [hasNext, setHasNext] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadingError, setLoadingError] = useState(null);\r\n\r\n  const sortedItems = items.sort((a, b) => b[order] - a[order]);\r\n\r\n  const handleNewestClick = () => setOrder(\"createdAt\");\r\n  const handleBestClick = () => setOrder(\"favoriteCount\");\r\n  const handleDelete = (id) => {\r\n    const nextItems = items.filter((item) => item.id !== id);\r\n    setItems(nextItems);\r\n  };\r\n\r\n  const handleLoad = async (options) => {\r\n    let result;\r\n    try {\r\n      setIsLoading(true);\r\n      setLoadingError(null);\r\n      result = await getProducts(options);\r\n    } catch (error) {\r\n      setLoadingError(error);\r\n      return;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n\r\n    const { reviews, paging } = result;\r\n    if (options.offset === 0) {\r\n      setItems(reviews);\r\n    } else {\r\n      setItems((previewItems) => [...previewItems, ...reviews]);\r\n    }\r\n    setOffset(options.offset + options.limit);\r\n    setHasNext(paging.hasNext);\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    handleLoad({ order, offset, limit: LIMIT });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleLoad({ order, offset: 0, limit: LIMIT });\r\n  }, [order]);\r\n\r\n  return (\r\n    <div>\r\n      <p>판다마켓 로고</p>\r\n      <a href=\"#\">자유게시판</a>\r\n      <a href=\"#\"> 중고마켓</a>\r\n      <button>로그인</button>\r\n      <div>\r\n        <div>\r\n          <h1>베스트 상품</h1>\r\n          <p>베스트 상품 섹션 만들어서 넣을거임</p>\r\n        </div>\r\n        <h1>판매중인 상품</h1>\r\n        <input placeholder=\"검색할 상품을 입력하세요\"></input>\r\n        <button>상품 등록하기</button>\r\n        <button onClick={handleNewestClick}>최신순</button>\r\n        <button onClick={handleBestClick}>좋아요순</button>\r\n      </div>\r\n      <ProductList items={sortedItems} />\r\n      {hasNext && (\r\n        <button disabled={isLoading} onClick={handleLoadMore}>\r\n          더보기\r\n        </button>\r\n      )}\r\n      {loadingError?.message && <span>{loadingError?.message}</span>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n*/\r\n\r\nimport { getProducts } from \"../api.js\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nfunction App() {\r\n  [items, setItems] = useState([]);\r\n  const handleLoad = async () => {\r\n    const { products } = await getProducts();\r\n    setItems;\r\n  };\r\n  useEffect(() => {\r\n    handleLoad();\r\n  }, []);\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,WAAW,QAAQ,WAAW;AACvC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAChC,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAM;MAAEC;IAAS,CAAC,GAAG,MAAMR,WAAW,CAAC,CAAC;IACxCM,QAAQ;EACV,CAAC;EACDJ,SAAS,CAAC,MAAM;IACdK,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;AACR;AAACH,EAAA,CATQD,GAAG;AAAAM,EAAA,GAAHN,GAAG;AAWZ,eAAeA,GAAG;AAAC,IAAAM,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}